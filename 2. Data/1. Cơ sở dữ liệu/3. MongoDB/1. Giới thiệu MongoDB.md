
![](https://www.mongodb.com/docs/assets/meta_generic.png)

# Giới thiệu

**MongoDB** là một document database. Mỗi database:
- Bao gồm các **collection**.
- Mỗi collection chứa nhiều **document** và *sub-collection*.
- Mỗi document (record) là một **BSON** (một dạng của JSON). Tức là bao gồm các cặp `{key: value}` hoặc `{field: value}`.
- Mỗi document có một id (`_id`) riêng để định danh do MongoDB tạo ra.

-> Tích hợp linh động trên nhiều thiết bị.
-> Tốc độ truy xuất cao.
-> Dễ mở rộng về cấu trúc database và dữ liệu.

# Kiến trúc MongoDB

Tài liệu tham khảo: https://www.geeksforgeeks.org/mongodb/mongodb-architecture/.

## Document database và Relational database

MongoDB không phải relational database, nhưng có thể tái hiện relational database.

| MongoDB | Database | Table      | Column | Row      | Index |
| ------- | -------- | ---------- | ------ | -------- | ----- |
| RDB     | Database | Collection | Field  | Document | Index |

## Các mô hình triển khai MongoDB

1. **Stand-alone**:
	- Chỉ có 1 server chứa MongoDB.
	- Rất dễ để triển khai, nhưng dễ sập (do chỉ có 1 server-host phải chịu áp lực lớn về hiệu năng).
	
2. **Replication**:
	- Có nhiều server, mỗi server đều cài MongoDB. Trong đó, có 1 server chủ chốt là **Primary** có trách nhiệm là API kết nối client với các server khác (**Secondary**).
	- Nếu Primary sập thì một trong số các Secondary có thể lên thay.
	
3. **Sharding**:
	- Dữ liệu được phân đều ra cho các server giữ.

## Storage engine

**Storage engine** là hệ thống đảm nhiệm xử lý và lưu trữ dữ liệu giữa RAM memory và các file vật lý.

Kiểm tra engine đang sử dụng:
```sh
db.serverStatus().storageEngine
```

**Một số storage engine**:
1. **`WiredTiger`** \[*Default*].
2. `In-Memory` \[*Enterprise*].















