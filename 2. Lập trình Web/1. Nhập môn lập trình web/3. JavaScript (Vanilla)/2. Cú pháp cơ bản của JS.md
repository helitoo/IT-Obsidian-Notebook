
```insta-toc
---
title:
  name: Mục lục
  level: 1
  center: false
exclude: ""
style:
  listType: number
omit: []
levels:
  min: 1
  max: 6
---

# Mục lục

1. Biến và Hàm
    1. Phạm vi hoạt động của biến & hàm
    2. Hoisting
    3. Khai báo biến
    4. Khai báo hàm
```

# Biến và Hàm

## Phạm vi hoạt động của biến & hàm

Có 3 loại phạm vi:
- **Global scope**: Tất cả biến và hàm và có thể được truy cập từ bất cứ đâu trong đoạn mã.
- **Block (Local) scope**: Biến và hàm khai báo trong một khối mã, chỉ có thể truy cập bên trong khối mã đó.

## Hoisting

JS cho phép bạn sử dụng một số biến hoặc hàm trước khi khai báo, nhờ cơ chế _hoisting_ – tức là trình thông dịch sẽ xử lý các khai báo trước khi thực thi chương trình.

Cụ thể, hoisting giúp các khai báo biến (`var`) và hàm có thể được truy cập trước khi xuất hiện trong mã nguồn.

Tuy nhiên, điều này không áp dụng hoàn toàn cho `let` và `const`. Dù chúng vẫn được hoisting, nhưng lại nằm trong **Temporal Dead Zone (TDZ)** – một vùng bảo vệ từ lúc bắt đầu phạm vi cho đến khi biến được khai báo. TDZ giúp ngăn các lỗi logic như truy cập vào một biến chưa được khởi tạo, góp phần làm cho chương trình an toàn và dễ kiểm soát hơn.

## Khai báo biến

| Cú pháp          | Phạm vi                          | Có thể được truy cập trước khi khai báo không? | Có thể thay đổi giá trị không? |
| ---------------- | -------------------------------- | ---------------------------------------------- | ------------------------------ |
| `var varName;`   | Function scope.<br>Global scope. | Có.                                            | Có.                            |
| `let varName;`   | Block scope.                     | Không.                                         | Có.                            |
| `const varName;` | Block scope.                     | Không.                                         | Không.                         |

## Khai báo hàm

Trong lập trình, có 2 loại hàm:
- **Function**: Hàm trả về giá trị, được gọi như một biến. Trong hàm buộc phải có từ khóa `return urVal;` để trả về giá trị cho hàm.
- **Procedure**: Hàm không trả về giá trị.

Trong JS, cả function và procedure đều có thể được gọi như biến hoặc gọi dưới dạng một đoạn lệnh.

Trong JS, tùy vào cách thức khai báo và hoạt động có 3 loại hàm đặc trưng:

---
**Regular (Declaration) functionn**:

Cú pháp khai báo:
```js
function fName(par...) {
	%% Your code %%
}
```

Gọi hàm với toán tử `(` và `)`:
```js
function toCelsius(fahrenheit) {
  return (5/9) * (fahrenheit-32);
}

let value = toCelsius(77);
```
-> Trả về giá trị của hàm là `25`.

Gọi hàm chỉ bằng tên hàm:
```js
let value = toCelsius;
```
-> Trả về `toCelsius`.

---
**Arrow (inline) function**:

Arrow function là một cách viết ngắn gọn của regular function, có thể khai báo ở bất kỳ đâu. Thậm chí, nếu hàm chỉ có một tham số, arrow function cho phép bỏ qua luôn.

*VD1*:
Hàm:
```js
function hello () { return "Hello World!";}
```
Có thể viết thành:
```js
hello = () => { return "Hello World!"; }
```
Hay:
```js
hello = () => "Hello World!";
```

*VD2*:
Hàm:
```js
function sq (a) { return a * a; }
```
Có thể viết thành:
```js
sq = (a) => a * a;
```

---
**Anonymous function**:

Là hàm không có tên, thường dùng làm [[8. Callback và Promise#Callback function|callback function]].

VD: Dùng trong `setTimeout`:
```js
setTimeout(function () {
  console.log("Chờ 1 giây...");
}, 1000);
```
