
**1 - Khởi động Docker Desktop**.

**2 - Tạo và thực thi 1 PostgreSQL container đơn giản**.

```Powershell
docker run -it --rm -e POSTGRES_USER=root -e POSTGRES_PASSWORD=root -e POSTGRES_DB=ny_taxi -v ny_taxi_postgres_data:/var/lib/postgresql/data -p 5432:5432 postgres:15
```

Giải thích một chút:
- `-e`: Đặt các biến môi trường.
- `-v`: Đặt volume. Nếu địa chỉ này không tồn tại (**bind moute**) thì Docker thì sẽ tự tạo volume trong hệ thống riêng (**named volume**).
- `-p 5432:5432`: Port `5432` của host machine sẽ liên kết với port `5432` của container.
- `postgres:15`: Dùng phiên bản PostgreSQL 15.

>[!note]
>`docker run` là lệnh thực thi 1 Docker image. Nếu chưa có image thì Docker sẽ tải về và thực thi nó.

Thông báo thành công:
```
2026-01-21 07:14:15.376 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2026-01-21 07:14:15.376 UTC [1] LOG:  listening on IPv6 address "::", port 5432
2026-01-21 07:14:15.398 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2026-01-21 07:14:15.415 UTC [64] LOG:  database system was shut down at 2026-01-21 07:14:15 UTC
2026-01-21 07:14:15.431 UTC [1] LOG:  database system is ready to accept connections
```

**3 - Kết nối với PostgreSQL**:

Ở host machine, cài thêm `pgcli` để kết nối với database:

```powershell
uv init ny_taxi_cli
cd ny_taxi_cli
uv add --dev pgcli
```
- `--dev` đánh dấu rằng package này dùng trong môi trường development, không phải production để tránh cấu hình rườm rà.

Kết nối với database:
```shell
uv run pgcli -h localhost -p 5432 -u root -d ny_taxi
```

Kết nối thành công:
```powershell
Using local time zone Asia/Bangkok (server uses Etc/UTC)
Use `set time zone <TZ>` to override, or set `use_local_timezone = False` in the config
Server: PostgreSQL 15.15 (Debian 15.15-1.pgdg13+1)
Version: 4.4.0
Home: http://pgcli.com
root@localhost:ny_taxi>
```

Thử thao tác cơ bản lên database:
```sh
-- List tables
\dt

-- Create a test table
CREATE TABLE test (id INTEGER, name VARCHAR(50));

-- Insert data
INSERT INTO test VALUES (1, 'Hello Docker');

-- Query data
SELECT * FROM test;

-- Exit
\q
```
