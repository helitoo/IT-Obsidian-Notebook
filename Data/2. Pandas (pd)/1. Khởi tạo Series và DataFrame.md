
```insta-toc
---
title:
  name: Mục lục
  level: 1
  center: false
exclude: ""
style:
  listType: number
omit: []
levels:
  min: 1
  max: 6
---

# Mục lục

1. Khai báo Series và DataFrame
2. Liên kết DataFrame với file dữ liệu
    1. .csv
    2. Text-based
    3. Excel
    4. JSON/XML
    5. Cơ sở dữ liệu
```

# Khai báo Series và DataFrame

```python
pandas.Series()
```

^877ed8

Trả về một Series. Có các tham số như:

| Tham số                  | Kiểu đối số      | Mô tả                                                          |
| ------------------------ | ---------------- | -------------------------------------------------------------- |
| `data=None`              | Iterable         | Dữ liệu của Series.                                            |
| `index=range(len(data))` | `list` \| `None` | Index của Series. Nếu `data` là `dict`, `index = data.keys()`. |
| `dtype=infer`            |                  | Kiểu dữ liệu của Series.                                       |
| `copy=True`              | `bool`           | Là `False` thì dữ liệu nạp vào Series sẽ là tham chiếu.        |
| `name={Tên biến}`        | `str`            | Tên Series.                                                    |

```python
pandas.DataFrame()
```

^43f7fe

Trả về một DataFrame. Có các tham số như:

| Tham số                    | Kiểu đối số      | Mô tả                                                                                                                                                                                                                                                  |
| -------------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `data=None`                | Iterable         | Dữ liệu của DataFrame.<br>- `dict`: Keys là tên cột, values là các danh sách. VD: `pd.DataFrame({'a': [1, 2], 'b': [3, 4]})`.<br>- `list`: Mỗi phần tử chứa một dict tượng trưng cho 1 hàng. VD: `pd.DataFrame([{'a': 1, 'b': 3}, {'a': 2, 'b': 4}])`. |
| `index=range(len(data))`   | `list` \| `None` | Index của DataFrame. Nếu `data` là `dict`, `index = data.keys()`.                                                                                                                                                                                      |
| `columns=range(len(data))` | `list` \| `None` | Tên các cột.                                                                                                                                                                                                                                           |
| `dtype=infer`              |                  | Kiểu dữ liệu của DataFrame.                                                                                                                                                                                                                            |
| `copy=True`                | `bool`           | Là `False` thì dữ liệu nạp vào DataFrame sẽ là tham chiếu.                                                                                                                                                                                             |
| `name={Tên biến}`          | `str`            | Tên DataFrame.                                                                                                                                                                                                                                         |

# Liên kết DataFrame với file dữ liệu

## .csv

```python
pandas.read_csv()
```
Trả về một DataFrame.

```python
pandas.to_csv()
```
Ghi dữ liệu vào file csv.

2 phương thức trên có một số tham số như sau:

| Mô tả                        | `read_csv()`                                                                              | `to_csv()`                                                                                |
| ---------------------------- | ----------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| **Địa chỉ đích / nguồn**     | `filepath_or_buffer`: Địa chỉ đọc file.                                                   | `path_or_buf`: Địa chỉ lưu file.                                                          |
| **Ghi/Đọc index**            | `index_col=0`: Chỉ định index của cột làm index.                                          | `index=True/False`: Có ghi index không, thường là `False`.                                |
| **Tên cột**                  | `header=0\|None\|...`: Chỉ định danh sách tên cột.                                        | `header=boolean`: Có ghi tên cột không.                                                   |
| **Phạm vi đọc xuất dữ liệu** | `usecols=[...]`: Tên các field sẽ được đọc vào file.                                      | `columns=[...]`: Tên các field sẽ được ghi ra file.                                       |
| **Tên cột làm index**        | `index_col=None\|'col'`                                                                   |                                                                                           |
| **Phân cách field**          | `sep=','`                                                                                 | `sep=','`                                                                                 |
| **Phân cách record**         | `lineterminator='\n'`                                                                     | `lineterminator='\n'`                                                                     |
| **Kiểu**                     | `dtype={col: type,...}` – ép kiểu khi đọc                                                 | --                                                                                        |
| **Chế độ mã hóa ký tự**      | `encoding='...'` thường là `utf-8-sig` là chế độ mã hóa Unicode có tương thích với Excel. | `encoding='...'` thường là `utf-8-sig` là chế độ mã hóa Unicode có tương thích với Excel. |
| **Định dạng số thực**        | --                                                                                        | `float_format='%.2f'` nghĩa là làm tròn 2 chữ số phần thập phân.                          |
| **Xử lý `NaN`**              | `na_values=[...]`: Những giá trị được liệt kê trong danh sách này sẽ được coi là `NaN`.   | `na_rep=''`: Ký tự thay thế `NaN` khi ghi.                                                |
| **Chế độ mở file**           | --                                                                                        | `mode='w'`. Thường dùng 2 chế độ là `w` cho ghi đè và `a` cho ghi thêm.                   |


## Text-based

| Định dạng                  | Hàm đọc              | Hàm ghi            |
| -------------------------- | -------------------- | ------------------ |
| CSV (`.csv`)               | `read_csv()`         | `to_csv()`         |
| TSV / TXT (`.tsv`, `.txt`) | `read_csv(sep='\t')` | `to_csv(sep='\t')` |
| Fixed-width (`.txt`)       | `read_fwf()`         | --                 |
| Clipboard                  | `read_clipboard()`   | `to_clipboard()`   |

## Excel

|Định dạng|Hàm đọc|Hàm ghi|
|---|---|---|
|Excel (`.xls`, `.xlsx`, `.xlsm`, `.xlsb`, `.odf`, `.ods`)|`read_excel()`|`to_excel()`|

## JSON/XML

|Định dạng|Hàm đọc|Hàm ghi|
|---|---|---|
|JSON (`.json`)|`read_json()`|`to_json()`|
|NDJSON (`.jsonl`)|`read_json(lines=True)`|`to_json(orient='records', lines=True)`|
|XML (`.xml`)|`read_xml()`|`to_xml()` (>= pandas 1.3)|

## Cơ sở dữ liệu

| Nguồn                             | Hàm đọc                           | Hàm ghi    |
| --------------------------------- | --------------------------------- | ---------- |
| SQLite / PostgreSQL / MySQL, etc. | `read_sql()` / `read_sql_query()` | `to_sql()` |
Cần cài thêm các module `sqlalchemy` hoặc `sqlite3`.
