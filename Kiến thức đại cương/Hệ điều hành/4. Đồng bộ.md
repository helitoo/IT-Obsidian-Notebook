
```insta-toc
---
title:
  name: Mục lục
  level: 1
  center: false
exclude: ""
style:
  listType: number
omit: []
levels:
  min: 1
  max: 6
---

# Mục lục

1. Race condition
    1. Bài toán
    2. Lời giải bài toán
```


# Race condition

## Bài toán

Race condition là hiện tượng xảy ra khi nhiều process cùng truy cập vào một vùng nhớ đồng thời (**Vùng tranh chấp**).

**Hậu quả**: Dữ liệu bị sai, không nhất quán.

## Lời giải bài toán

**Yêu cầu của lời giải**:
1. **Loại trừ tương hỗ (Mutual exclusion)**: Khi một process đang thực thi trong vòng tranh chấp thì không có process nào khác được thực thi tại đó.
2. **Tiến triển (Progress)**: Một process ở ngoài vùng tranh chấp thì không được ngăn cản các process khác vào vùng tranh chấp.
3. **Chờ đợi giới hạn (Bounded waiting)**: Mỗi tiến trình phải chờ để được vào vùng tranh chấp trong một khoảng thời gian cố định.

| Tên          | Dựa trên | Nguyên lý                                                                                                                                                                                                                                                                                                                    |
| ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Peterson** | Phần mềm | Các process chia sẻ chung 2 biến `turn` và `boolean flag[N]`:<br><br>- `turn` là PID chỉ ra process nào tới lượt để vào vùng tranh chấp.<br><br>- Nếu `flag[i] == true` thì process thứ `i` đã sẵn sàng vào vùng tranh chấp.<br><br>Như vậy, process `i` chỉ được vào vùng tranh chấp khi `turn == i` và `flag[j] == false`. |
|              |          |                                                                                                                                                                                                                                                                                                                              |
|              |          |                                                                                                                                                                                                                                                                                                                              |
|              |          |                                                                                                                                                                                                                                                                                                                              |
|              |          |                                                                                                                                                                                                                                                                                                                              |
|              |          |                                                                                                                                                                                                                                                                                                                              |



















